{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/middleware.ts"],"sourcesContent":["import { withAuth } from 'next-auth/middleware';\nimport { NextResponse } from 'next/server';\n\nexport default withAuth(\n  function middleware(req) {\n    const token = req.nextauth.token;\n    const pathname = req.nextUrl.pathname;\n\n    // Admin-only routes\n    if (pathname.startsWith('/admin') && token?.role !== 'admin') {\n      return NextResponse.redirect(new URL('/dashboard', req.url));\n    }\n\n    // Merchant-only routes\n    if (pathname.startsWith('/pos') && !['merchant', 'admin'].includes(token?.role as string)) {\n      return NextResponse.redirect(new URL('/dashboard', req.url));\n    }\n\n    return NextResponse.next();\n  },\n  {\n    callbacks: {\n      authorized: ({ token }) => !!token,\n    },\n    pages: {\n      signIn: '/login',\n    },\n  }\n);\n\nexport const config = {\n  matcher: [\n    '/dashboard/:path*',\n    '/wallet/:path*',\n    '/pos/:path*',\n    '/payments/:path*',\n    '/transactions/:path*',\n    '/admin/:path*',\n  ],\n};\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AAAA;;;uCAEe,IAAA,8JAAQ,EACrB,SAAS,WAAW,GAAG;IACrB,MAAM,QAAQ,IAAI,QAAQ,CAAC,KAAK;IAChC,MAAM,WAAW,IAAI,OAAO,CAAC,QAAQ;IAErC,oBAAoB;IACpB,IAAI,SAAS,UAAU,CAAC,aAAa,OAAO,SAAS,SAAS;QAC5D,OAAO,gMAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,cAAc,IAAI,GAAG;IAC5D;IAEA,uBAAuB;IACvB,IAAI,SAAS,UAAU,CAAC,WAAW,CAAC;QAAC;QAAY;KAAQ,CAAC,QAAQ,CAAC,OAAO,OAAiB;QACzF,OAAO,gMAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,cAAc,IAAI,GAAG;IAC5D;IAEA,OAAO,gMAAY,CAAC,IAAI;AAC1B,GACA;IACE,WAAW;QACT,YAAY,CAAC,EAAE,KAAK,EAAE,GAAK,CAAC,CAAC;IAC/B;IACA,OAAO;QACL,QAAQ;IACV;AACF;AAGK,MAAM,SAAS;IACpB,SAAS;QACP;QACA;QACA;QACA;QACA;QACA;KACD;AACH"}}]
}